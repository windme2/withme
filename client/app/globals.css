@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 222.2 84% 4.9%;
    --card: 0 0% 100%;
    --card-foreground: 222.2 84% 4.9%;
    --popover: 0 0% 100%;
    --popover-foreground: 222.2 84% 4.9%;
    --primary: 222.2 47.4% 11.2%;
    --primary-foreground: 210 40% 98%;
    --secondary: 210 40% 96.1%;
    --secondary-foreground: 222.2 47.4% 11.2%;
    --muted: 210 40% 96.1%;
    --muted-foreground: 215.4 16.3% 46.9%;
    --accent: 210 40% 96.1%;
    --accent-foreground: 222.2 47.4% 11.2%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;
    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;
    --ring: 222.2 84% 4.9%;
    --radius: 0.5rem;
    --chart-1: 12 76% 61%;
    --chart-2: 173 58% 39%;
    --chart-3: 197 37% 24%;
    --chart-4: 43 74% 66%;
    --chart-5: 27 87% 67%;
  }

  .dark {
    --background: 222.2 84% 4.9%;
    --foreground: 210 40% 98%;
    --card: 222.2 84% 4.9%;
    --card-foreground: 210 40% 98%;
    --popover: 222.2 84% 4.9%;
    --popover-foreground: 210 40% 98%;
    --primary: 210 40% 98%;
    --primary-foreground: 222.2 47.4% 11.2%;
    --secondary: 217.2 32.6% 17.5%;
    --secondary-foreground: 210 40% 98%;
    --muted: 217.2 32.6% 17.5%;
    --muted-foreground: 215 20.2% 65.1%;
    --accent: 217.2 32.6% 17.5%;
    --accent-foreground: 210 40% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 40% 98%;
    --border: 217.2 32.6% 17.5%;
    --input: 217.2 32.6% 17.5%;
    --ring: 212.7 26.8% 83.9%;
    --chart-1: 220 70% 50%;
    --chart-2: 160 60% 45%;
    --chart-3: 30 80% 55%;
    --chart-4: 280 65% 60%;
    --chart-5: 340 75% 55%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }

  /* Custom Scrollbar Styles & Layout Stability */
  html {
    overflow-y: scroll;
    /* Fix layout shift when Radix UI locks scroll (keeps space for scrollbar) */
    scrollbar-gutter: stable;
  }
}

/* =========================================
   Custom Scrollbar Styles
   ========================================= */
::-webkit-scrollbar {
  width: 14px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: rgba(155, 155, 155, 0.4);
  border-radius: 10px;
  border: 3px solid transparent;
  background-clip: content-box;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(155, 155, 155, 0.7);
  background-clip: content-box;
}

/* =========================================
   Performance & Reset
   ========================================= */
/* Disable transitions during page load */
.no-transitions * {
  transition: none !important;
  animation-duration: 0s !important;
}

/* Fast transitions for UI elements */
.fast-transition {
  transition: all 0.15s ease !important;
}

/* Optimize rendering */
img,
video {
  max-width: 100%;
  height: auto;
}

/* Prevent layout shift */
.prevent-shift {
  contain: layout style size !important;
}

/* =========================================
   Radix UI Fixes
   ========================================= */
/* Prevent padding-right addition by Radix UI which causes layout shifts */
body[style*="pointer-events"],
body[data-scroll-locked] {
  padding-right: 0 !important;
  overflow: visible !important;
}

[data-radix-popper-content-wrapper] {
  position: absolute !important;
  z-index: 9999 !important;
}

[data-radix-dropdown-menu-content] {
  position: relative !important;
  z-index: 9999 !important;
}

[data-radix-popover-content] {
  position: relative !important;
  z-index: 9999 !important;
}



/* =========================================
   Sidebar Animation
   ========================================= */
@keyframes fadeInDelayed {
  0% {
    opacity: 0;
    transform: translateX(-10px);
  }
  60% {
    opacity: 0;
    transform: translateX(-10px);
  }
  100% {
    opacity: 1;
    transform: translateX(0);
  }
}

.animate-fade-in-delayed {
  animation: fadeInDelayed 0.5s ease-out forwards;
}

/* =========================================
   UI Components (Button & Status)
   ========================================= */
/* Custom button styles */
.btn-primary {
  @apply bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105;
}

.btn-success {
  @apply bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105;
}

.btn-warning {
  @apply bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105;
}

.btn-info {
  @apply bg-gradient-to-r from-cyan-500 to-blue-600 hover:from-cyan-600 hover:to-blue-700 text-white shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105;
}

/* Card hover effects */
.card-hover {
  @apply hover:shadow-xl transition-all duration-300 hover:scale-105;
}

/* Status badge improvements */
.status-completed {
  @apply bg-green-100 text-green-800;
}

.status-pending {
  @apply bg-yellow-100 text-yellow-800;
}

.status-in-progress {
  @apply bg-blue-100 text-blue-800;
}

.status-failed {
  @apply bg-red-100 text-red-800;
}

/* =========================================
   Loader Styles
   ========================================= */

@keyframes fadeToDarkTheme {
  0% {
    background-color: #ffffff;
  }
  100% {
    background-color: #0f172a; /* slate-900 */
  }
}

.animate-bg-fade {
  animation: fadeToDarkTheme 0.8s ease-in-out forwards;
}

/* Loader Container */
.loader-container {
  width: 64px;
  height: 64px;
  position: relative;
  transform: rotate(15deg);
  transition: all 0.3s ease;
}

.loader-container:hover {
  transform: scale(1.1) rotate(15deg);
}

/* Loader Active Path (Blue Glow) */
.loader-active-path {
  position: absolute;
  stroke-width: 4;
  stroke: #3b82f6;
  stroke-dasharray: 20, 180;
  animation: dash 1s linear infinite;
  filter: drop-shadow(0 0 8px rgba(59, 130, 246, 0.5));
}

/* Loader Background Path */
.loader-bg-path {
  position: absolute;
  stroke: #334155;
}

@keyframes dash {
  0% {
    stroke-dashoffset: 0;
  }
  100% {
    stroke-dashoffset: -200;
  }
}

/* Loading Bar Animation */
@keyframes loadingBar {
  0% {
    width: 0%;
    margin-left: 0;
  }
  50% {
    width: 100%;
    margin-left: 0;
  }
  100% {
    width: 0%;
    margin-left: 100%;
  }
}

.loader-bar-track {
  position: relative;
  overflow: hidden;
}

.loader-bar-thumb {
  height: 100%;
  background: linear-gradient(90deg, transparent, #3b82f6, transparent);
  animation: loadingBar 1.5s ease-in-out infinite;
}
